{"/home/travis/build/npmtest/node-npmtest-vue-lazyload/test.js":"/* istanbul instrument in package npmtest_vue_lazyload */\n/*jslint\n    bitwise: true,\n    browser: true,\n    maxerr: 8,\n    maxlen: 96,\n    node: true,\n    nomen: true,\n    regexp: true,\n    stupid: true\n*/\n(function () {\n    'use strict';\n    var local;\n\n\n\n    // run shared js-env code - pre-init\n    (function () {\n        // init local\n        local = {};\n        // init modeJs\n        local.modeJs = (function () {\n            try {\n                return typeof navigator.userAgent === 'string' &&\n                    typeof document.querySelector('body') === 'object' &&\n                    typeof XMLHttpRequest.prototype.open === 'function' &&\n                    'browser';\n            } catch (errorCaughtBrowser) {\n                return module.exports &&\n                    typeof process.versions.node === 'string' &&\n                    typeof require('http').createServer === 'function' &&\n                    'node';\n            }\n        }());\n        // init global\n        local.global = local.modeJs === 'browser'\n            ? window\n            : global;\n        switch (local.modeJs) {\n        // re-init local from window.local\n        case 'browser':\n            local = local.global.utility2.objectSetDefault(\n                local.global.utility2_rollup || local.global.local,\n                local.global.utility2\n            );\n            break;\n        // re-init local from example.js\n        case 'node':\n            local = (local.global.utility2_rollup || require('utility2'))\n                .requireReadme();\n            break;\n        }\n        // export local\n        local.global.local = local;\n    }());\n\n\n\n    // run shared js-env code - function\n    (function () {\n        return;\n    }());\n    switch (local.modeJs) {\n\n\n\n    // run browser js-env code - function\n    case 'browser':\n        break;\n\n\n\n    // run node js-env code - function\n    case 'node':\n        break;\n    }\n\n\n\n    // run shared js-env code - post-init\n    (function () {\n        return;\n    }());\n    switch (local.modeJs) {\n\n\n\n    // run browser js-env code - post-init\n    case 'browser':\n        local.testCase_browser_nullCase = local.testCase_browser_nullCase || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test browsers's null-case handling-behavior-behavior\n         */\n            onError(null, options);\n        };\n\n        // run tests\n        local.nop(local.modeTest &&\n            document.querySelector('#testRunButton1') &&\n            document.querySelector('#testRunButton1').click());\n        break;\n\n\n\n    // run node js-env code - post-init\n    /* istanbul ignore next */\n    case 'node':\n        local.testCase_buildApidoc_default = local.testCase_buildApidoc_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildApidoc's default handling-behavior-behavior\n         */\n            options = { modulePathList: module.paths };\n            local.buildApidoc(options, onError);\n        };\n\n        local.testCase_buildApp_default = local.testCase_buildApp_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildApp's default handling-behavior-behavior\n         */\n            local.testCase_buildReadme_default(options, local.onErrorThrow);\n            local.testCase_buildLib_default(options, local.onErrorThrow);\n            local.testCase_buildTest_default(options, local.onErrorThrow);\n            local.testCase_buildCustomOrg_default(options, local.onErrorThrow);\n            options = [];\n            local.buildApp(options, onError);\n        };\n\n        local.testCase_buildCustomOrg_default = local.testCase_buildCustomOrg_default ||\n            function (options, onError) {\n            /*\n             * this function will test buildCustomOrg's default handling-behavior\n             */\n                options = {};\n                local.buildCustomOrg(options, onError);\n            };\n\n        local.testCase_buildLib_default = local.testCase_buildLib_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildLib's default handling-behavior\n         */\n            options = {};\n            local.buildLib(options, onError);\n        };\n\n        local.testCase_buildReadme_default = local.testCase_buildReadme_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildReadme's default handling-behavior-behavior\n         */\n            options = {};\n            local.buildReadme(options, onError);\n        };\n\n        local.testCase_buildTest_default = local.testCase_buildTest_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildTest's default handling-behavior\n         */\n            options = {};\n            local.buildTest(options, onError);\n        };\n\n        local.testCase_webpage_default = local.testCase_webpage_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test webpage's default handling-behavior\n         */\n            options = { modeCoverageMerge: true, url: local.serverLocalHost + '?modeTest=1' };\n            local.browserTest(options, onError);\n        };\n\n        // run test-server\n        local.testRunServer(local);\n        break;\n    }\n}());\n","/home/travis/build/npmtest/node-npmtest-vue-lazyload/lib.npmtest_vue_lazyload.js":"/* istanbul instrument in package npmtest_vue_lazyload */\n/*jslint\n    bitwise: true,\n    browser: true,\n    maxerr: 8,\n    maxlen: 96,\n    node: true,\n    nomen: true,\n    regexp: true,\n    stupid: true\n*/\n(function () {\n    'use strict';\n    var local;\n\n\n\n    // run shared js-env code - pre-init\n    (function () {\n        // init local\n        local = {};\n        // init modeJs\n        local.modeJs = (function () {\n            try {\n                return typeof navigator.userAgent === 'string' &&\n                    typeof document.querySelector('body') === 'object' &&\n                    typeof XMLHttpRequest.prototype.open === 'function' &&\n                    'browser';\n            } catch (errorCaughtBrowser) {\n                return module.exports &&\n                    typeof process.versions.node === 'string' &&\n                    typeof require('http').createServer === 'function' &&\n                    'node';\n            }\n        }());\n        // init global\n        local.global = local.modeJs === 'browser'\n            ? window\n            : global;\n        // init utility2_rollup\n        local = local.global.utility2_rollup || local;\n        // init lib\n        local.local = local.npmtest_vue_lazyload = local;\n        // init exports\n        if (local.modeJs === 'browser') {\n            local.global.utility2_npmtest_vue_lazyload = local;\n        } else {\n            module.exports = local;\n            module.exports.__dirname = __dirname;\n            module.exports.module = module;\n        }\n    }());\n}());\n","/home/travis/build/npmtest/node-npmtest-vue-lazyload/example.js":"/*\nexample.js\n\nquickstart example\n\ninstruction\n    1. save this script as example.js\n    2. run the shell command:\n        $ npm install npmtest-vue-lazyload && PORT=8081 node example.js\n    3. play with the browser-demo on http://127.0.0.1:8081\n*/\n\n\n\n/* istanbul instrument in package npmtest_vue_lazyload */\n/*jslint\n    bitwise: true,\n    browser: true,\n    maxerr: 8,\n    maxlen: 96,\n    node: true,\n    nomen: true,\n    regexp: true,\n    stupid: true\n*/\n(function () {\n    'use strict';\n    var local;\n\n\n\n    // run shared js-env code - pre-init\n    (function () {\n        // init local\n        local = {};\n        // init modeJs\n        local.modeJs = (function () {\n            try {\n                return typeof navigator.userAgent === 'string' &&\n                    typeof document.querySelector('body') === 'object' &&\n                    typeof XMLHttpRequest.prototype.open === 'function' &&\n                    'browser';\n            } catch (errorCaughtBrowser) {\n                return module.exports &&\n                    typeof process.versions.node === 'string' &&\n                    typeof require('http').createServer === 'function' &&\n                    'node';\n            }\n        }());\n        // init global\n        local.global = local.modeJs === 'browser'\n            ? window\n            : global;\n        // init utility2_rollup\n        local = local.global.utility2_rollup || (local.modeJs === 'browser'\n            ? local.global.utility2_npmtest_vue_lazyload\n            : global.utility2_moduleExports);\n        // export local\n        local.global.local = local;\n    }());\n    switch (local.modeJs) {\n\n\n\n    // post-init\n    // run browser js-env code - post-init\n    /* istanbul ignore next */\n    case 'browser':\n        local.testRunBrowser = function (event) {\n            if (!event || (event &&\n                    event.currentTarget &&\n                    event.currentTarget.className &&\n                    event.currentTarget.className.includes &&\n                    event.currentTarget.className.includes('onreset'))) {\n                // reset output\n                Array.from(\n                    document.querySelectorAll('body > .resettable')\n                ).forEach(function (element) {\n                    switch (element.tagName) {\n                    case 'INPUT':\n                    case 'TEXTAREA':\n                        element.value = '';\n                        break;\n                    default:\n                        element.textContent = '';\n                    }\n                });\n            }\n            switch (event && event.currentTarget && event.currentTarget.id) {\n            case 'testRunButton1':\n                // show tests\n                if (document.querySelector('#testReportDiv1').style.display === 'none') {\n                    document.querySelector('#testReportDiv1').style.display = 'block';\n                    document.querySelector('#testRunButton1').textContent =\n                        'hide internal test';\n                    local.modeTest = true;\n                    local.testRunDefault(local);\n                // hide tests\n                } else {\n                    document.querySelector('#testReportDiv1').style.display = 'none';\n                    document.querySelector('#testRunButton1').textContent = 'run internal test';\n                }\n                break;\n            // custom-case\n            default:\n                break;\n            }\n            if (document.querySelector('#inputTextareaEval1') && (!event || (event &&\n                    event.currentTarget &&\n                    event.currentTarget.className &&\n                    event.currentTarget.className.includes &&\n                    event.currentTarget.className.includes('oneval')))) {\n                // try to eval input-code\n                try {\n                    /*jslint evil: true*/\n                    eval(document.querySelector('#inputTextareaEval1').value);\n                } catch (errorCaught) {\n                    console.error(errorCaught);\n                }\n            }\n        };\n        // log stderr and stdout to #outputTextareaStdout1\n        ['error', 'log'].forEach(function (key) {\n            console[key + '_original'] = console[key];\n            console[key] = function () {\n                var element;\n                console[key + '_original'].apply(console, arguments);\n                element = document.querySelector('#outputTextareaStdout1');\n                if (!element) {\n                    return;\n                }\n                // append text to #outputTextareaStdout1\n                element.value += Array.from(arguments).map(function (arg) {\n                    return typeof arg === 'string'\n                        ? arg\n                        : JSON.stringify(arg, null, 4);\n                }).join(' ') + '\\n';\n                // scroll textarea to bottom\n                element.scrollTop = element.scrollHeight;\n            };\n        });\n        // init event-handling\n        ['change', 'click', 'keyup'].forEach(function (event) {\n            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {\n                element.addEventListener(event, local.testRunBrowser);\n            });\n        });\n        // run tests\n        local.testRunBrowser();\n        break;\n\n\n\n    // run node js-env code - post-init\n    /* istanbul ignore next */\n    case 'node':\n        // export local\n        module.exports = local;\n        // require modules\n        local.fs = require('fs');\n        local.http = require('http');\n        local.url = require('url');\n        // init assets\n        local.assetsDict = local.assetsDict || {};\n        /* jslint-ignore-begin */\n        local.assetsDict['/assets.index.template.html'] = '\\\n<!doctype html>\\n\\\n<html lang=\"en\">\\n\\\n<head>\\n\\\n<meta charset=\"UTF-8\">\\n\\\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\\n\\\n<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\\n\\\n<style>\\n\\\n/*csslint\\n\\\n    box-sizing: false,\\n\\\n    universal-selector: false\\n\\\n*/\\n\\\n* {\\n\\\n    box-sizing: border-box;\\n\\\n}\\n\\\nbody {\\n\\\n    background: #dde;\\n\\\n    font-family: Arial, Helvetica, sans-serif;\\n\\\n    margin: 2rem;\\n\\\n}\\n\\\nbody > * {\\n\\\n    margin-bottom: 1rem;\\n\\\n}\\n\\\n.utility2FooterDiv {\\n\\\n    margin-top: 20px;\\n\\\n    text-align: center;\\n\\\n}\\n\\\n</style>\\n\\\n<style>\\n\\\n/*csslint\\n\\\n*/\\n\\\ntextarea {\\n\\\n    font-family: monospace;\\n\\\n    height: 10rem;\\n\\\n    width: 100%;\\n\\\n}\\n\\\ntextarea[readonly] {\\n\\\n    background: #ddd;\\n\\\n}\\n\\\n</style>\\n\\\n</head>\\n\\\n<body>\\n\\\n<!-- utility2-comment\\n\\\n<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;\"></div>\\n\\\nutility2-comment -->\\n\\\n<h1>\\n\\\n<!-- utility2-comment\\n\\\n    <a\\n\\\n        {{#if env.npm_package_homepage}}\\n\\\n        href=\"{{env.npm_package_homepage}}\"\\n\\\n        {{/if env.npm_package_homepage}}\\n\\\n        target=\"_blank\"\\n\\\n    >\\n\\\nutility2-comment -->\\n\\\n        {{env.npm_package_name}} (v{{env.npm_package_version}})\\n\\\n<!-- utility2-comment\\n\\\n    </a>\\n\\\nutility2-comment -->\\n\\\n</h1>\\n\\\n<h3>{{env.npm_package_description}}</h3>\\n\\\n<!-- utility2-comment\\n\\\n<h4><a download href=\"assets.app.js\">download standalone app</a></h4>\\n\\\n<button class=\"onclick onreset\" id=\"testRunButton1\">run internal test</button><br>\\n\\\n<div id=\"testReportDiv1\" style=\"display: none;\"></div>\\n\\\nutility2-comment -->\\n\\\n\\n\\\n\\n\\\n\\n\\\n<label>stderr and stdout</label>\\n\\\n<textarea class=\"resettable\" id=\"outputTextareaStdout1\" readonly></textarea>\\n\\\n<!-- utility2-comment\\n\\\n{{#if isRollup}}\\n\\\n<script src=\"assets.app.js\"></script>\\n\\\n{{#unless isRollup}}\\n\\\nutility2-comment -->\\n\\\n<script src=\"assets.utility2.rollup.js\"></script>\\n\\\n<script src=\"jsonp.utility2._stateInit?callback=window.utility2._stateInit\"></script>\\n\\\n<script src=\"assets.npmtest_vue_lazyload.rollup.js\"></script>\\n\\\n<script src=\"assets.example.js\"></script>\\n\\\n<script src=\"assets.test.js\"></script>\\n\\\n<!-- utility2-comment\\n\\\n{{/if isRollup}}\\n\\\nutility2-comment -->\\n\\\n<div class=\"utility2FooterDiv\">\\n\\\n    [ this app was created with\\n\\\n    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\\n\\\n    ]\\n\\\n</div>\\n\\\n</body>\\n\\\n</html>\\n\\\n';\n        /* jslint-ignore-end */\n        if (local.templateRender) {\n            local.assetsDict['/'] = local.templateRender(\n                local.assetsDict['/assets.index.template.html'],\n                {\n                    env: local.objectSetDefault(local.env, {\n                        npm_package_description: 'the greatest app in the world!',\n                        npm_package_name: 'my-app',\n                        npm_package_nameAlias: 'my_app',\n                        npm_package_version: '0.0.1'\n                    })\n                }\n            );\n        } else {\n            local.assetsDict['/'] = local.assetsDict['/assets.index.template.html']\n                .replace((/\\{\\{env\\.(\\w+?)\\}\\}/g), function (match0, match1) {\n                    // jslint-hack\n                    String(match0);\n                    switch (match1) {\n                    case 'npm_package_description':\n                        return 'the greatest app in the world!';\n                    case 'npm_package_name':\n                        return 'my-app';\n                    case 'npm_package_nameAlias':\n                        return 'my_app';\n                    case 'npm_package_version':\n                        return '0.0.1';\n                    }\n                });\n        }\n        // run the cli\n        if (local.global.utility2_rollup || module !== require.main) {\n            break;\n        }\n        local.assetsDict['/assets.example.js'] =\n            local.assetsDict['/assets.example.js'] ||\n            local.fs.readFileSync(__filename, 'utf8');\n        // bug-workaround - long $npm_package_buildCustomOrg\n        /* jslint-ignore-begin */\n        local.assetsDict['/assets.npmtest_vue_lazyload.rollup.js'] =\n            local.assetsDict['/assets.npmtest_vue_lazyload.rollup.js'] ||\n            local.fs.readFileSync(\n                local.npmtest_vue_lazyload.__dirname + '/lib.npmtest_vue_lazyload.js',\n                'utf8'\n            ).replace((/^#!/), '//');\n        /* jslint-ignore-end */\n        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';\n        // if $npm_config_timeout_exit exists,\n        // then exit this process after $npm_config_timeout_exit ms\n        if (Number(process.env.npm_config_timeout_exit)) {\n            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));\n        }\n        // start server\n        if (local.global.utility2_serverHttp1) {\n            break;\n        }\n        process.env.PORT = process.env.PORT || '8081';\n        console.error('server starting on port ' + process.env.PORT);\n        local.http.createServer(function (request, response) {\n            request.urlParsed = local.url.parse(request.url);\n            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {\n                response.end(local.assetsDict[request.urlParsed.pathname]);\n                return;\n            }\n            response.statusCode = 404;\n            response.end();\n        }).listen(process.env.PORT);\n        break;\n    }\n}());\n","/home/travis/build/npmtest/node-npmtest-vue-lazyload/node_modules/vue-lazyload/vue-lazyload.js":"/*!\n * Vue-Lazyload.js v1.0.3\n * (c) 2017 Awe <hilongjw@gmail.com>\n * Released under the MIT License.\n */\n!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):e.VueLazyload=t()}(this,function(){\"use strict\";function e(e,t){if(e.length){var n=e.indexOf(t);return n>-1?e.splice(n,1):void 0}}function t(e,t){if(!e||!t)return e||{};if(e instanceof Object)for(var n in t)e[n]=t[n];return e}function n(e,t){for(var n=!1,i=0,r=e.length;i<r;i++)if(t(e[i])){n=!0;break}return n}function i(e,t){if(\"IMG\"===e.tagName&&e.getAttribute(\"data-srcset\")){var n=e.getAttribute(\"data-srcset\"),i=[],r=e.parentNode,o=r.offsetWidth*t,a=void 0,s=void 0,u=void 0;n=n.trim().split(\",\"),n.map(function(e){e=e.trim(),a=e.lastIndexOf(\" \"),a===-1?(s=e,u=999998):(s=e.substr(0,a),u=parseInt(e.substr(a+1,e.length-a-2),10)),i.push([u,s])}),i.sort(function(e,t){if(e[0]<t[0])return-1;if(e[0]>t[0])return 1;if(e[0]===t[0]){if(t[1].indexOf(\".webp\",t[1].length-5)!==-1)return 1;if(e[1].indexOf(\".webp\",e[1].length-5)!==-1)return-1}return 0});for(var d=\"\",l=void 0,c=i.length,h=0;h<c;h++)if(l=i[h],l[0]>=o){d=l[1];break}return d}}function r(e,t){for(var n=void 0,i=0,r=e.length;i<r;i++)if(t(e[i])){n=e[i];break}return n}function o(){if(!h)return!1;var e=!0,t=document;try{var n=t.createElement(\"object\");n.type=\"image/webp\",n.innerHTML=\"!\",t.body.appendChild(n),e=!n.offsetWidth,t.body.removeChild(n)}catch(t){e=!1}return e}function a(e,t){var n=null,i=0;return function(){if(!n){var r=Date.now()-i,o=this,a=arguments,s=function(){i=Date.now(),n=!1,e.apply(o,a)};r>=t?s():n=setTimeout(s,t)}}}function s(){if(h){var e=!1;try{var t=Object.defineProperty({},\"passive\",{get:function(){e=!0}});window.addEventListener(\"test\",null,t)}catch(e){}return e}}function u(e){return null!==e&&\"object\"===(\"undefined\"==typeof e?\"undefined\":d(e))}var d=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol?\"symbol\":typeof e},l=function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),h=\"undefined\"!=typeof window,f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return h&&window.devicePixelRatio||e},p=s(),v={on:function(e,t,n){p?e.addEventListener(t,n,{passive:!0}):e.addEventListener(t,n,!1)},off:function(e,t,n){e.removeEventListener(t,n)}},g=function(e,t,n){var i=new Image;i.src=e.src,i.onload=function(){t({naturalHeight:i.naturalHeight,naturalWidth:i.naturalWidth,src:i.src})},i.onerror=function(e){n(e)}},y=function(e,t){return\"undefined\"!=typeof getComputedStyle?getComputedStyle(e,null).getPropertyValue(t):e.style[t]},m=function(e){return y(e,\"overflow\")+y(e,\"overflow-y\")+y(e,\"overflow-x\")},b=function(e){if(h){if(!(e instanceof HTMLElement))return window;for(var t=e;t&&t!==document.body&&t!==document.documentElement&&t.parentNode;){if(/(scroll|auto)/.test(m(t)))return t;t=t.parentNode}return window}},w={},L=function(){function e(t){var n=t.el,i=t.src,r=t.error,o=t.loading,a=t.bindType,s=t.$parent,u=t.options,d=t.elRenderer;l(this,e),this.el=n,this.src=i,this.error=r,this.loading=o,this.bindType=a,this.attempt=0,this.naturalHeight=0,this.naturalWidth=0,this.options=u,this.filter(),this.initState(),this.performanceData={init:Date.now(),loadStart:null,loadEnd:null},this.rect=n.getBoundingClientRect(),this.$parent=s,this.elRenderer=d,this.render(\"loading\",!1)}return c(e,[{key:\"initState\",value:function(){this.state={error:!1,loaded:!1,rendered:!1}}},{key:\"record\",value:function(e){this.performanceData[e]=Date.now()}},{key:\"update\",value:function(e){var t=e.src,n=e.loading,i=e.error,r=this.src;this.src=t,this.loading=n,this.error=i,this.filter(),r!==this.src&&(this.attempt=0,this.initState())}},{key:\"getRect\",value:function(){this.rect=this.el.getBoundingClientRect()}},{key:\"checkInView\",value:function(){return this.getRect(),this.rect.top<window.innerHeight*this.options.preLoad&&this.rect.bottom>this.options.preLoadTop&&this.rect.left<window.innerWidth*this.options.preLoad&&this.rect.right>0}},{key:\"filter\",value:function(){this.options.filter.webp&&this.options.supportWebp&&(this.src=this.options.filter.webp(this,this.options)),this.options.filter.customer&&(this.src=this.options.filter.customer(this,this.options))}},{key:\"load\",value:function(){var e=this;return this.attempt>this.options.attempt-1&&this.state.error?void(this.options.silent||console.log(\"error end\")):this.state.loaded||w[this.src]?this.render(\"loaded\",!0):(this.render(\"loading\",!1),this.attempt++,this.record(\"loadStart\"),void g({src:this.src},function(t){e.naturalHeight=t.naturalHeight,e.naturalWidth=t.naturalWidth,e.state.loaded=!0,e.state.error=!1,e.record(\"loadEnd\"),e.render(\"loaded\",!1),w[e.src]=1},function(t){e.state.error=!0,e.state.loaded=!1,e.render(\"error\",!1)}))}},{key:\"render\",value:function(e,t){this.elRenderer(this,e,t)}},{key:\"performance\",value:function(){var e=\"loading\",t=0;return this.state.loaded&&(e=\"loaded\",t=(this.performanceData.loadEnd-this.performanceData.loadStart)/1e3),this.state.error&&(e=\"error\"),{src:this.src,state:e,time:t}}},{key:\"destroy\",value:function(){this.el=null,this.src=null,this.error=null,this.loading=null,this.bindType=null,this.attempt=0}}]),e}(),k=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\",A=[\"scroll\",\"wheel\",\"mousewheel\",\"resize\",\"animationend\",\"transitionend\",\"touchmove\"],T=function(s){return function(){function d(e){var t=this,n=e.preLoad,i=e.error,r=e.preLoadTop,s=e.loading,u=e.attempt,c=e.silent,h=e.scale,p=e.listenEvents,v=(e.hasbind,e.filter),g=e.adapter;l(this,d),this.ListenerQueue=[],this.TargetIndex=0,this.TargetQueue=[],this.options={silent:c||!0,preLoad:n||1.3,preLoadTop:r||0,error:i||k,loading:s||k,attempt:u||3,scale:h||f(h),ListenEvents:p||A,hasbind:!1,supportWebp:o(),filter:v||{},adapter:g||{}},this.initEvent(),this.lazyLoadHandler=a(function(){var e=!1;t.ListenerQueue.forEach(function(t){t.state.loaded||(e=t.checkInView(),e&&t.load())})},200)}return c(d,[{key:\"config\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this.options,e)}},{key:\"addLazyBox\",value:function(e){this.ListenerQueue.push(e),h&&(this._addListenerTarget(window),e.$el&&e.$el.parentNode&&this._addListenerTarget(e.$el.parentNode))}},{key:\"_addListenerTarget\",value:function(e){if(e){var t=r(this.TargetQueue,function(t){return t.el===e});return t?t.childrenCount++:(t={el:e,id:++this.TargetIndex,childrenCount:1,listened:!0},this.initListen(t.el,!0),this.TargetQueue.push(t)),this.TargetIndex}}},{key:\"_removeListenerTarget\",value:function(e){var t=this;this.TargetQueue.forEach(function(n,i){n.el===e&&(n.childrenCount--,n.childrenCount||(t.initListen(n.el,!1),t.TargetQueue.splice(i,1),n=null))})}},{key:\"add\",value:function(e,t,r){var o=this;if(n(this.ListenerQueue,function(t){return t.el===e}))return this.update(e,t),s.nextTick(this.lazyLoadHandler);var a=this.valueFormatter(t.value),u=a.src,d=a.loading,l=a.error;s.nextTick(function(){u=i(e,o.options.scale)||u;var n=Object.keys(t.modifiers)[0],a=void 0;n&&(a=r.context.$refs[n],a=a?a.$el||a:document.getElementById(n)),a||(a=b(e));var c=new L({bindType:t.arg,$parent:a,el:e,loading:d,error:l,src:u,elRenderer:o.elRenderer.bind(o),options:o.options});o.ListenerQueue.push(c),h&&(o._addListenerTarget(window),o._addListenerTarget(a)),o.lazyLoadHandler(),s.nextTick(function(){return o.lazyLoadHandler()})})}},{key:\"update\",value:function(e,t){var n=this,i=this.valueFormatter(t.value),o=i.src,a=i.loading,u=i.error,d=r(this.ListenerQueue,function(t){return t.el===e});d&&d.update({src:o,loading:a,error:u}),this.lazyLoadHandler(),s.nextTick(function(){return n.lazyLoadHandler()})}},{key:\"remove\",value:function(t){if(t){var n=r(this.ListenerQueue,function(e){return e.el===t});n&&(this._removeListenerTarget(n.$parent),this._removeListenerTarget(window),e(this.ListenerQueue,n)&&n.destroy())}}},{key:\"removeComponent\",value:function(t){t&&(e(this.ListenerQueue,t),t.$parent&&t.$el.parentNode&&this._removeListenerTarget(t.$el.parentNode),this._removeListenerTarget(window))}},{key:\"initListen\",value:function(e,t){var n=this;this.options.ListenEvents.forEach(function(i){return v[t?\"on\":\"off\"](e,i,n.lazyLoadHandler)})}},{key:\"initEvent\",value:function(){var t=this;this.Event={listeners:{loading:[],loaded:[],error:[]}},this.$on=function(e,n){t.Event.listeners[e].push(n)},this.$once=function(e,n){function i(){r.$off(e,i),n.apply(r,arguments)}var r=t;t.$on(e,i)},this.$off=function(n,i){return i?void e(t.Event.listeners[n],i):void(t.Event.listeners[n]=[])},this.$emit=function(e,n,i){t.Event.listeners[e].forEach(function(e){return e(n,i)})}}},{key:\"performance\",value:function(){var e=[];return this.ListenerQueue.map(function(t){e.push(t.performance())}),e}},{key:\"elRenderer\",value:function(e,t,n){if(e.el){var i=e.el,r=e.bindType,o=void 0;switch(t){case\"loading\":o=e.loading;break;case\"error\":o=e.error;break;default:o=e.src}r?i.style[r]=\"url(\"+o+\")\":i.getAttribute(\"src\")!==o&&i.setAttribute(\"src\",o),i.setAttribute(\"lazy\",t),this.$emit(t,e,n),this.options.adapter[t]&&this.options.adapter[t](e,this.options)}}},{key:\"valueFormatter\",value:function(e){var t=e,n=this.options.loading,i=this.options.error;return u(e)&&(e.src||this.options.silent||console.error(\"Vue Lazyload warning: miss src with \"+e),t=e.src,n=e.loading||this.options.loading,i=e.error||this.options.error),{src:t,loading:n,error:i}}}]),d}()},E=function(e){return{props:{tag:{type:String,default:\"div\"}},render:function(e){return this.show===!1?e(this.tag):e(this.tag,null,this.$slots.default)},data:function(){return{state:{loaded:!1},rect:{},show:!1}},mounted:function(){e.addLazyBox(this),e.lazyLoadHandler()},beforeDestroy:function(){e.removeComponent(this)},methods:{getRect:function(){this.rect=this.$el.getBoundingClientRect()},checkInView:function(){return this.getRect(),h&&this.rect.top<window.innerHeight*e.options.preLoad&&this.rect.bottom>0&&this.rect.left<window.innerWidth*e.options.preLoad&&this.rect.right>0},load:function(){this.show=!0,this.state.loaded=!0,this.$emit(\"show\",this)}}}},$={install:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=T(e),r=new i(n),o=\"2\"===e.version.split(\".\")[0];e.prototype.$Lazyload=r,n.lazyComponent&&e.component(\"lazy-component\",E(r)),o?e.directive(\"lazy\",{bind:r.add.bind(r),update:r.update.bind(r),componentUpdated:r.lazyLoadHandler.bind(r),unbind:r.remove.bind(r)}):e.directive(\"lazy\",{bind:r.lazyLoadHandler.bind(r),update:function(e,n){t(this.vm.$refs,this.vm.$els),r.add(this.el,{modifiers:this.modifiers||{},arg:this.arg,value:e,oldValue:n},{context:this.vm})},unbind:function(){r.remove(this.el)}})}};return $});","/home/travis/build/npmtest/node-npmtest-vue-lazyload/node_modules/vue-lazyload/src/index.js":"import Lazy from './lazy'\nimport LazyComponent from './lazy-component'\nimport { assign } from './util'\n\n\nexport default {\n    /**\n     * install function\n     * @param  {Vue} Vue\n     * @param  {object} options  lazyload options\n     */\n    install (Vue, options = {}) {\n        const LazyClass = Lazy(Vue)\n        const lazy = new LazyClass(options)\n        const isVueNext = Vue.version.split('.')[0] === '2'\n\n        Vue.prototype.$Lazyload = lazy\n\n        if (options.lazyComponent) {\n            Vue.component('lazy-component', LazyComponent(lazy))\n        }\n\n        if (isVueNext) {\n            Vue.directive('lazy', {\n                bind: lazy.add.bind(lazy),\n                update: lazy.update.bind(lazy),\n                componentUpdated: lazy.lazyLoadHandler.bind(lazy),\n                unbind : lazy.remove.bind(lazy)\n            })\n        } else {\n            Vue.directive('lazy', {\n                bind: lazy.lazyLoadHandler.bind(lazy),\n                update (newValue, oldValue) {\n                    assign(this.vm.$refs, this.vm.$els)\n                    lazy.add(this.el, {\n                        modifiers: this.modifiers || {},\n                        arg: this.arg,\n                        value: newValue,\n                        oldValue: oldValue\n                    }, {\n                        context: this.vm\n                    })\n                },\n                unbind () {\n                    lazy.remove(this.el)\n                }\n            })\n        }\n    }\n}","/home/travis/build/npmtest/node-npmtest-vue-lazyload/node_modules/vue-lazyload/src/lazy-component.js":"import { inBrowser } from './util'\n\nexport default (lazy) => {\n    return {\n        props: {\n            tag: {\n                type: String,\n                default: 'div'\n            }\n        },\n        render (h) {\n            if (this.show === false) {\n                return h(this.tag)\n            }\n            return h(this.tag, null, this.$slots.default)\n        },\n        data () {\n            return {\n                state: {\n                    loaded: false\n                },\n                rect: {},\n                show: false\n            }\n        },\n        mounted () {\n            lazy.addLazyBox(this)\n            lazy.lazyLoadHandler()\n        },\n        beforeDestroy () {\n            lazy.removeComponent(this)\n        },\n        methods: {\n            getRect () {\n                this.rect = this.$el.getBoundingClientRect()\n            },\n            checkInView () {\n                this.getRect()\n                return inBrowser &&\n                    (this.rect.top < window.innerHeight * lazy.options.preLoad && this.rect.bottom > 0) &&\n                    (this.rect.left < window.innerWidth * lazy.options.preLoad && this.rect.right > 0)\n            },\n            load () {\n                this.show = true\n                this.state.loaded = true\n                this.$emit('show', this)\n            }\n        }\n    }\n}\n","/home/travis/build/npmtest/node-npmtest-vue-lazyload/node_modules/vue-lazyload/src/lazy.js":"import { \n    inBrowser,\n    remove, \n    some, \n    find, \n    _,\n    throttle,\n    supportWebp,\n    getDPR,\n    scrollParent,\n    getBestSelectionFromSrcset,\n    assign,\n    isObject\n} from './util'\n\nimport ReactiveListener from './listener'\n\nconst DEFAULT_URL = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7'\nconst DEFAULT_EVENTS = ['scroll', 'wheel', 'mousewheel', 'resize', 'animationend', 'transitionend', 'touchmove']\n\nexport default function (Vue) {\n    return class Lazy {\n        constructor ({ preLoad, error, preLoadTop, loading, attempt, silent, scale, listenEvents, hasbind, filter, adapter }) {\n            this.ListenerQueue = []\n            this.TargetIndex = 0\n            this.TargetQueue = []\n            this.options = {\n                silent: silent || true,\n                preLoad: preLoad || 1.3,\n                preLoadTop: preLoadTop || 0,\n                error: error || DEFAULT_URL,\n                loading: loading || DEFAULT_URL,\n                attempt: attempt || 3,\n                scale: scale || getDPR(scale),\n                ListenEvents: listenEvents || DEFAULT_EVENTS,\n                hasbind: false,\n                supportWebp: supportWebp(),\n                filter: filter || {},\n                adapter: adapter || {}\n            }\n            this.initEvent()\n\n            this.lazyLoadHandler = throttle(() => {\n                let catIn = false\n                this.ListenerQueue.forEach(listener => {\n                    if (listener.state.loaded) return\n                    catIn = listener.checkInView()\n                    catIn && listener.load()\n                })\n            }, 200)\n        }\n\n        /**\n         * update config\n         * @param  {Object} config params\n         * @return\n         */\n        config (options = {}) {\n            assign(this.options, options)\n        }\n\n        /**\n         * add lazy component to queue\n         * @param  {Vue} vm lazy component instance\n         * @return\n         */\n        addLazyBox (vm) {\n            this.ListenerQueue.push(vm)\n            if (inBrowser) {\n                this._addListenerTarget(window)\n                if (vm.$el && vm.$el.parentNode) {\n                    this._addListenerTarget(vm.$el.parentNode)\n                }\n            }\n        }\n\n        /**\n         * add listener target\n         * @param  {DOM} el listener target \n         * @return\n         */\n        _addListenerTarget (el) {\n            if (!el) return\n            let target = find(this.TargetQueue, target => target.el === el)\n            if (!target) {\n                target = {\n                    el: el,\n                    id: ++this.TargetIndex,\n                    childrenCount: 1,\n                    listened: true\n                }\n                this.initListen(target.el, true)\n                this.TargetQueue.push(target)\n            } else {\n                target.childrenCount++\n            }\n            return this.TargetIndex\n        }\n\n        /**\n         * remove listener target or reduce target childrenCount\n         * @param  {DOM} el or window\n         * @return\n         */\n        _removeListenerTarget (el) {\n            this.TargetQueue.forEach((target, index) => {\n                if (target.el === el) {\n                    target.childrenCount--\n                    if (!target.childrenCount) {\n                        this.initListen(target.el, false)\n                        this.TargetQueue.splice(index, 1)\n                        target = null\n                    }\n                }\n            })\n        }\n\n        /**\n         * add image listener to queue\n         * @param  {DOM} el \n         * @param  {object} binding vue directive binding\n         * @param  {vnode} vnode vue directive vnode\n         * @return\n         */\n        add (el, binding, vnode) {\n            if (some(this.ListenerQueue, item => item.el === el)) {\n                this.update(el, binding)\n                return Vue.nextTick(this.lazyLoadHandler)\n            }\n\n            let { src, loading, error } = this.valueFormatter(binding.value)\n\n            Vue.nextTick(() => {\n                src = getBestSelectionFromSrcset(el, this.options.scale) || src\n\n                const container = Object.keys(binding.modifiers)[0]\n                let $parent\n\n                if (container) {\n                    $parent = vnode.context.$refs[container]\n                    // if there is container passed in, try ref first, then fallback to getElementById to support the original usage\n                    $parent = $parent ? $parent.$el || $parent : document.getElementById(container)\n                }\n\n                if (!$parent) {\n                    $parent = scrollParent(el)\n                }\n\n                const newListener = new ReactiveListener({\n                    bindType: binding.arg,\n                    $parent,\n                    el,\n                    loading,\n                    error,\n                    src,\n                    elRenderer: this.elRenderer.bind(this),\n                    options: this.options\n                })\n\n                this.ListenerQueue.push(newListener)\n                if (inBrowser) {\n                    this._addListenerTarget(window)\n                    this._addListenerTarget($parent)\n                }\n\n                this.lazyLoadHandler()\n                Vue.nextTick(() => this.lazyLoadHandler())\n            })\n        }\n\n        /**\n         * update image src\n         * @param  {DOM} el \n         * @param  {object} vue directive binding\n         * @return\n         */\n        update (el, binding) {\n            let { src, loading, error } = this.valueFormatter(binding.value)\n\n            const exist = find(this.ListenerQueue, item => item.el === el)\n\n            exist && exist.update({\n                src,\n                loading,\n                error\n            })\n            this.lazyLoadHandler()\n            Vue.nextTick(() => this.lazyLoadHandler())\n        }\n\n        /**\n         * remove listener form list\n         * @param  {DOM} el \n         * @return\n         */\n        remove (el) {\n            if (!el) return\n            const existItem = find(this.ListenerQueue, item => item.el === el)\n            if (existItem) {\n                this._removeListenerTarget(existItem.$parent)\n                this._removeListenerTarget(window)\n                remove(this.ListenerQueue, existItem) && existItem.destroy()\n            }\n        }\n\n        /**\n         * remove lazy components form list\n         * @param  {Vue} vm Vue instance \n         * @return\n         */\n        removeComponent (vm) {\n            if (!vm) return\n            remove(this.ListenerQueue, vm)\n            if (vm.$parent && vm.$el.parentNode) {\n                this._removeListenerTarget(vm.$el.parentNode)\n            }\n            this._removeListenerTarget(window)\n        }\n\n        /**\n         * add or remove eventlistener\n         * @param  {DOM} el DOM or Window\n         * @param  {boolean} start flag\n         * @return\n         */\n        initListen (el, start) {\n            this.options.ListenEvents.forEach((evt) => _[start ? 'on' : 'off'](el, evt, this.lazyLoadHandler))\n        }\n\n        initEvent () {\n            this.Event = {\n                listeners: {\n                    loading: [],\n                    loaded: [],\n                    error: []\n                }\n            }\n\n            this.$on = (event, func) => {\n                this.Event.listeners[event].push(func)\n            }\n\n            this.$once = (event, func) => {\n                const vm = this\n                function on () {\n                    vm.$off(event, on)\n                    func.apply(vm, arguments)\n                }\n                this.$on(event, on)\n            }\n\n            this.$off = (event, func) => {\n                if (!func) {\n                    this.Event.listeners[event] = []\n                    return\n                }\n                remove(this.Event.listeners[event], func)\n            }\n\n            this.$emit = (event, context, inCache) => {\n                this.Event.listeners[event].forEach(func => func(context, inCache))\n            }\n        }\n\n        /**\n         * output listener's load performance\n         * @return {Array} \n         */\n        performance () {\n            let list = []\n\n            this.ListenerQueue.map(item => {\n                list.push(item.performance())\n            })\n\n            return list\n        }\n\n        /**\n         * set element attribute with image'url and state\n         * @param  {object} lazyload listener object\n         * @param  {string} state will be rendered\n         * @param  {bool} inCache  is rendered from cache \n         * @return\n         */\n        elRenderer (listener, state, cache) {\n            if (!listener.el) return\n            const { el, bindType } = listener\n\n            let src\n            switch (state) {\n                case 'loading':\n                    src = listener.loading\n                    break\n                case 'error':\n                    src = listener.error\n                    break\n                default:\n                    src = listener.src\n                    break\n            }\n\n            if (bindType) {\n                el.style[bindType] = 'url(' + src + ')'\n            } else if (el.getAttribute('src') !== src) {\n                el.setAttribute('src', src)\n            }\n\n            el.setAttribute('lazy', state)\n\n            this.$emit(state, listener, cache)\n            this.options.adapter[state] && this.options.adapter[state](listener, this.options)\n        }\n\n        /**\n         * generate loading loaded error image url \n         * @param {string} image's src\n         * @return {object} image's loading, loaded, error url\n         */\n        valueFormatter (value) {\n            let src = value\n            let loading = this.options.loading\n            let error = this.options.error\n\n            // value is object\n            if (isObject(value)) {\n                if (!value.src && !this.options.silent) console.error('Vue Lazyload warning: miss src with ' + value)\n                src = value.src\n                loading = value.loading || this.options.loading\n                error = value.error || this.options.error\n            }\n            return {\n                src,\n                loading,\n                error\n            }\n        }\n    }\n}\n","/home/travis/build/npmtest/node-npmtest-vue-lazyload/node_modules/vue-lazyload/src/listener.js":"import { loadImageAsync } from './util'\n\nlet imageCache = {}\n\nexport default class ReactiveListener {\n    constructor ({ el, src, error, loading, bindType, $parent, options, elRenderer }) {\n        this.el = el\n        this.src = src\n        this.error = error\n        this.loading = loading\n        this.bindType = bindType\n        this.attempt = 0\n\n        this.naturalHeight = 0\n        this.naturalWidth = 0\n\n        this.options = options\n\n        this.filter()\n\n        this.initState()\n\n        this.performanceData = {\n            init: Date.now(),\n            loadStart: null,\n            loadEnd: null\n        }\n\n        this.rect = el.getBoundingClientRect()\n\n        this.$parent = $parent\n        this.elRenderer = elRenderer\n        this.render('loading', false)\n    }\n\n    /**\n     * init listener state\n     * @return\n     */\n    initState () {\n        this.state = {\n            error: false,\n            loaded: false,\n            rendered: false\n        }\n    }\n\n    /**\n     * record performance\n     * @return\n     */\n    record (event) {\n        this.performanceData[event] = Date.now()\n    }\n\n    /**\n     * update image listener data\n     * @param  {String} image uri\n     * @param  {String} loading image uri\n     * @param  {String} error image uri\n     * @return\n     */\n    update ({ src, loading, error }) {\n        const oldSrc = this.src\n        this.src = src\n        this.loading = loading\n        this.error = error\n        this.filter()\n        if (oldSrc !== this.src) {\n            this.attempt = 0\n            this.initState()\n        }\n    }\n\n    /**\n     * get el node rect\n     * @return\n     */\n    getRect () {\n        this.rect = this.el.getBoundingClientRect()\n    }\n\n    /**\n     *  check el is in view\n     * @return {Boolean} el is in view\n     */\n    checkInView () {\n        this.getRect()\n        return (this.rect.top < window.innerHeight * this.options.preLoad && this.rect.bottom > this.options.preLoadTop) &&\n            (this.rect.left < window.innerWidth * this.options.preLoad && this.rect.right > 0)\n    }\n\n    /**\n     * listener filter\n     */\n    filter () {\n        if (this.options.filter.webp && this.options.supportWebp) {\n            this.src = this.options.filter.webp(this, this.options)\n        }\n        if (this.options.filter.customer) {\n            this.src = this.options.filter.customer(this, this.options)\n        }\n    }\n\n    /**\n     * try load image and  render it\n     * @return\n     */\n    load () {\n        if ((this.attempt > this.options.attempt - 1) && this.state.error) {\n            if (!this.options.silent) console.log('error end')\n            return\n        }\n\n        if (this.state.loaded || imageCache[this.src]) {\n            return this.render('loaded', true)\n        }\n\n        this.render('loading', false)\n\n        this.attempt++\n\n        this.record('loadStart')\n\n        loadImageAsync({\n            src: this.src\n        }, data => {\n            this.naturalHeight = data.naturalHeight\n            this.naturalWidth = data.naturalWidth\n            this.state.loaded = true\n            this.state.error = false\n            this.record('loadEnd')\n            this.render('loaded', false)\n            imageCache[this.src] = 1\n        }, err => {\n            this.state.error = true\n            this.state.loaded = false\n            this.render('error', false)\n        })\n    }\n\n    /**\n     * render image\n     * @param  {String} state to render // ['loading', 'src', 'error']\n     * @param  {String} is form cache\n     * @return\n     */\n    render (state, cache) {\n        this.elRenderer(this, state, cache)\n    }\n\n    /**\n     * output performance data\n     * @return {Object} performance data\n     */\n    performance () {\n        let state = 'loading'\n        let time = 0\n\n        if (this.state.loaded) {\n            state = 'loaded'\n            time = (this.performanceData.loadEnd - this.performanceData.loadStart) / 1000\n        }\n\n        if (this.state.error) state = 'error'\n\n        return {\n            src: this.src,\n            state,\n            time\n        }\n    }\n\n    /**\n     * destroy\n     * @return\n     */\n    destroy () {\n        this.el = null\n        this.src = null\n        this.error = null\n        this.loading = null\n        this.bindType = null\n        this.attempt = 0\n    }\n}\n","/home/travis/build/npmtest/node-npmtest-vue-lazyload/node_modules/vue-lazyload/src/util.js":"const inBrowser = typeof window !== 'undefined'\n\nfunction remove (arr, item) {\n    if (!arr.length) return\n    const index = arr.indexOf(item)\n    if (index > -1) return arr.splice(index, 1)\n}\n\nfunction assign (target, source) {\n    if (!target || !source) return target || {}\n    if (target instanceof Object) {\n        for (let key in source) {\n            target[key] = source[key]\n        }\n    }\n    return target\n}\n\nfunction some (arr, fn) {\n    let has = false\n    for (let i = 0, len = arr.length; i < len; i++) {\n        if (fn(arr[i])) {\n            has = true\n            break\n        }\n    }\n    return has\n}\n\nfunction getBestSelectionFromSrcset (el, scale) {\n    if (el.tagName !== 'IMG' || !el.getAttribute('data-srcset')) return\n\n    let options = el.getAttribute('data-srcset')\n    const result = []\n    const container = el.parentNode\n    const containerWidth = container.offsetWidth * scale\n\n    let spaceIndex\n    let tmpSrc\n    let tmpWidth\n\n    options = options.trim().split(',')\n    \n    options.map(item => {\n        item = item.trim()\n        spaceIndex = item.lastIndexOf(' ')\n        if (spaceIndex === -1) {\n            tmpSrc = item\n            tmpWidth = 999998\n        } else {\n            tmpSrc = item.substr(0, spaceIndex)\n            tmpWidth = parseInt(item.substr(spaceIndex + 1, item.length - spaceIndex - 2), 10)\n        }\n        result.push([tmpWidth, tmpSrc])\n    })\n\n    result.sort(function (a, b) {\n        if (a[0] < b[0]) {\n            return -1\n        }\n        if (a[0] > b[0]) {\n            return 1\n        }\n        if (a[0] === b[0]) {\n            if (b[1].indexOf('.webp', b[1].length - 5) !== -1) {\n                return 1\n            }\n            if (a[1].indexOf('.webp', a[1].length - 5) !== -1) {\n                return -1\n            }\n        }\n        return 0\n    })\n    let bestSelectedSrc = ''\n    let tmpOption\n    const resultCount = result.length\n\n    for (let i = 0; i < resultCount; i++) {\n        tmpOption = result[i]\n        if (tmpOption[0] >= containerWidth) {\n            bestSelectedSrc = tmpOption[1]\n            break\n        }\n    }\n\n    return bestSelectedSrc\n}\n\nfunction find (arr, fn) {\n    let item\n    for (let i = 0, len = arr.length; i < len; i++) {\n        if (fn(arr[i])) {\n            item = arr[i]\n            break\n        }\n    }\n    return item\n}\n\nconst getDPR = (scale = 1) => inBrowser && window.devicePixelRatio || scale\n\nfunction supportWebp () {\n    if (!inBrowser) return false\n\n    let support = true\n    const d = document\n\n    try {\n        let el = d.createElement('object')\n        el.type = 'image/webp'\n        el.innerHTML = '!'\n        d.body.appendChild(el)\n        support = !el.offsetWidth\n        d.body.removeChild(el)\n    } catch (err) {\n        support = false\n    }\n\n    return support\n}\n\nfunction throttle (action, delay) {\n    let timeout = null\n    let lastRun = 0\n    return function () {\n        if (timeout) {\n            return\n        }\n        let elapsed = Date.now() - lastRun\n        let context = this\n        let args = arguments\n        let runCallback = function () {\n                lastRun = Date.now()\n                timeout = false\n                action.apply(context, args)\n            }\n        if (elapsed >= delay) {\n            runCallback()\n        }\n        else {\n            timeout = setTimeout(runCallback, delay)\n        }\n    }\n}\n\nfunction testSupportsPassive () {\n    if (!inBrowser) return\n    let support = false\n    try {\n        let opts = Object.defineProperty({}, 'passive', {\n            get: function() {\n              support = true\n            }\n        })\n        window.addEventListener(\"test\", null, opts)\n    } catch (e) {}\n    return support\n}\n\nconst supportsPassive = testSupportsPassive()\n\nconst _ = {\n    on (el, type, func) {\n        if (supportsPassive) {\n            el.addEventListener(type, func, {\n                passive:true\n            })\n        } else {\n            el.addEventListener(type, func, false)\n        }\n    },\n    off (el, type, func) {\n        el.removeEventListener(type, func)\n    }\n}\n\nconst loadImageAsync = (item, resolve, reject) => {\n    let image = new Image()\n    image.src = item.src\n\n    image.onload = function () {\n        resolve({\n            naturalHeight: image.naturalHeight,\n            naturalWidth: image.naturalWidth,\n            src: image.src\n        })\n    }\n\n    image.onerror = function (e) {\n        reject(e)\n    }\n}\n\nconst style = (el, prop) => {\n    return typeof getComputedStyle !== 'undefined'\n    ? getComputedStyle(el, null).getPropertyValue(prop)\n    : el.style[prop]\n}\n\nconst overflow = (el) => {\n    return style(el, 'overflow') + style(el, 'overflow-y') + style(el, 'overflow-x')\n}\n\nconst scrollParent = (el) => {\n    if (!inBrowser) return\n    if (!(el instanceof HTMLElement)) {\n        return window\n    }\n\n    let parent = el\n\n    while (parent) {\n        if (parent === document.body || parent === document.documentElement) {\n            break\n        }\n\n        if (!parent.parentNode) {\n            break\n        }\n\n        if (/(scroll|auto)/.test(overflow(parent))) {\n            return parent\n        }\n\n        parent = parent.parentNode\n    }\n\n    return window\n}\n\nfunction isObject (obj) {\n  return obj !== null && typeof obj === 'object'\n}\n\nexport {\n    inBrowser,\n    remove,\n    some,\n    find,\n    assign,\n    _,\n    isObject,\n    throttle,\n    supportWebp,\n    getDPR,\n    scrollParent,\n    loadImageAsync,\n    getBestSelectionFromSrcset\n}\n"}